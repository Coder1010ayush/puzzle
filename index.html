<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sliding Number Puzzle</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        #puzzle {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            grid-template-rows: repeat(3, 100px);
            gap: 5px;
        }
        .tile {
            width: 100px;
            height: 100px;
            background-color: #007bff;
            color: white;
            font-size: 24px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }
        .empty {
            background-color: transparent;
            cursor: default;
        }
        button {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div>
        <div id="puzzle"></div>
        <button id="shuffle">Shuffle</button>
    </div>
    <script>
        const puzzleElement = document.getElementById('puzzle');
        const shuffleButton = document.getElementById('shuffle');
        let tiles = [...Array(8).keys()].map(i => i + 1).concat(null);

        function createTiles() {
            tiles.forEach(num => {
                const tile = document.createElement('div');
                tile.classList.add('tile');
                tile.textContent = num !== null ? num : '';
                tile.classList.toggle('empty', num === null);
                tile.addEventListener('click', () => handleTileClick(num));
                puzzleElement.appendChild(tile);
            });
        }

        function handleTileClick(num) {
            const emptyIndex = tiles.indexOf(null);
            const tileIndex = tiles.indexOf(num);

            if (isAdjacent(emptyIndex, tileIndex)) {
                tiles[emptyIndex] = num;
                tiles[tileIndex] = null;
                updateTiles();
            }
        }

        function isAdjacent(emptyIndex, tileIndex) {
            const emptyRow = Math.floor(emptyIndex / 3);
            const emptyCol = emptyIndex % 3;
            const tileRow = Math.floor(tileIndex / 3);
            const tileCol = tileIndex % 3;

            return (Math.abs(emptyRow - tileRow) + Math.abs(emptyCol - tileCol)) === 1;
        }

        function updateTiles() {
            const tilesElements = document.querySelectorAll('.tile');
            tilesElements.forEach((tile, index) => {
                tile.textContent = tiles[index] !== null ? tiles[index] : '';
                tile.classList.toggle('empty', tiles[index] === null);
            });
        }

        function shuffleTiles() {
            for (let i = tiles.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [tiles[i], tiles[j]] = [tiles[j], tiles[i]];
            }
            updateTiles();
        }

        shuffleButton.addEventListener('click', shuffleTiles);

        createTiles();
    </script>
</body>
</html>